# üìö –î–û–ö–£–ú–ï–ù–¢–ê–¶–Ü–Ø –ü–†–û–ï–ö–¢–£: –°–≤—ñ—Ç–ª–æ–ë–æ—Ç

**Version:** 1.0  
**Date:** 2025-11-08  
**Status:** ‚úÖ –ì–æ—Ç–æ–≤–∞ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

---

## üìã –©–û –°–¢–í–û–†–ï–ù–û

–ü–æ–≤–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏ Telegram-–±–æ—Ç–∞ **–°–≤—ñ—Ç–ª–æ–ë–æ—Ç** –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –µ–ª–µ–∫—Ç—Ä–æ–ø–æ—Å—Ç–∞—á–∞–Ω–Ω—è –≤ –º—ñ—Å—Ç—ñ –Ü—Ä–ø—ñ–Ω—å.

### –û—Å–Ω–æ–≤–Ω—ñ –¥–æ–∫—É–º–µ–Ω—Ç–∏:

1. **PROJECT_SPECIFICATION.md** (57 KB) - –ü–æ–≤–Ω–µ —Ç–µ—Ö–Ω—ñ—á–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞—Ä–∏—Ñ—ñ–≤ (NOFREE/FREE/STANDARD/PRO)
   - –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ –º–µ–Ω—é –±–æ—Ç–∞
   - –¢–∏–ø–∏ —Å–ø–æ–≤—ñ—â–µ–Ω—å
   - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞
   - –ö—Ä–∞—É–¥—Ä–µ–ø–æ—Ä—Ç–∏
   - IoT-—Å–µ–Ω—Å–æ—Ä–∏
   - –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
   - UX/UI —Ñ—ñ—à–∫–∏

2. **TECHNICAL_ARCHITECTURE.md** (35 KB) - –¢–µ—Ö–Ω—ñ—á–Ω–∞ –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞
   - –°—Ö–µ–º–∞ –≤—Å—ñ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ —Å–∏—Å—Ç–µ–º–∏
   - –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö (PostgreSQL schema)
   - API endpoints
   - Telegram Bot —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
   - IoT-—Å–µ–Ω—Å–æ—Ä–∏ (ESP32)
   - –°–∏—Å—Ç–µ–º–∞ —Å–ø–æ–≤—ñ—â–µ–Ω—å
   - –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è –¥–ª—è 1M –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

3. **DEPLOYMENT_GUIDE.md** (21 KB) - –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è
   - –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ VPS
   - –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è Docker
   - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è .env
   - docker-compose.yml
   - Nginx + SSL (Certbot)
   - Backup —Å—Ç—Ä–∞—Ç–µ–≥—ñ—è
   - Troubleshooting

4. **DEVELOPMENT_ROADMAP.md** (19 KB) - –ü–ª–∞–Ω —Ä–æ–∑—Ä–æ–±–∫–∏ –Ω–∞ 2 –¥–Ω—ñ
   - –î–µ–Ω—å 1: Backend + Infrastructure (24 –≥–æ–¥)
   - –î–µ–Ω—å 2: Bot + Features (24 –≥–æ–¥)
   - –ö–æ–Ω—Ç—Ä–æ–ª—å–Ω—ñ —Å–ø–∏—Å–∫–∏
   - –ö—Ä–∏—Ç–∏—á–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
   - –ú–æ–∂–ª–∏–≤—ñ —Ä–∏–∑–∏–∫–∏

5. **steps/** (15 —Ñ–∞–π–ª—ñ–≤) - –ü–æ–∫—Ä–æ–∫–æ–≤—ñ —á–µ–∫–ª—ñ—Å—Ç–∏
   - –î–µ—Ç–∞–ª—å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –µ—Ç–∞–ø—É
   - –ö–æ–¥ –ø—Ä–∏–∫–ª–∞–¥–∏
   - –ö–æ–º–∞–Ω–¥–∏ –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
   - –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—ñ—Å–ª—è –∫–æ–∂–Ω–æ–≥–æ –∫—Ä–æ–∫—É

---

## üöÄ –Ø–ö –í–ò–ö–û–†–ò–°–¢–û–í–£–í–ê–¢–ò

### –ö—Ä–æ–∫ 1: –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –≤—Å—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –¥–æ Project Knowledge

```bash
# –ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ –≤—Å—ñ —Ñ–∞–π–ª–∏ —É –≤–∞—à Claude Project:
- PROJECT_SPECIFICATION.md
- TECHNICAL_ARCHITECTURE.md
- DEPLOYMENT_GUIDE.md
- DEVELOPMENT_ROADMAP.md
- steps/*.md (–≤—Å—ñ 15 —Ñ–∞–π–ª—ñ–≤)
```

### –ö—Ä–æ–∫ 2: –ü—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ

1. –û—Ä–µ–Ω–¥—É–≤–∞—Ç–∏ VPS (Ubuntu 22.04, 8 CPU, 16 GB RAM, 200 GB SSD)
2. –û—Ç—Ä–∏–º–∞—Ç–∏ Telegram Bot Token –≤—ñ–¥ @BotFather
3. –°—Ç–≤–æ—Ä–∏—Ç–∏ Telegram-–∫–∞–Ω–∞–ª
4. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è –Ω–∞ LiqPay (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω—ñ –ø–ª–∞—Ç–µ–∂—ñ)

### –ö—Ä–æ–∫ 3: –†–æ–∑–ø–æ—á–∞—Ç–∏ —Ä–æ–∑—Ä–æ–±–∫—É

–í—ñ–¥–∫—Ä–∏—Ç–∏ –Ω–æ–≤–∏–π —á–∞—Ç –∑ Claude —Ç–∞ –Ω–∞–ø–∏—Å–∞—Ç–∏:

```
–ü—Ä–∏—Å—Ç—É–ø–∞—î–º–æ –¥–æ –ö—Ä–æ–∫—É 1: Infrastructure Setup
```

Claude –ø—Ä–æ—á–∏—Ç–∞—î –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é –∑ Project Knowledge —Ç–∞ –ø—Ä–æ–≤–µ–¥–µ –≤–∞—Å —á–µ—Ä–µ–∑ –≤–µ—Å—å –ø—Ä–æ—Ü–µ—Å —Ä–æ–∑—Ä–æ–±–∫–∏ –∫—Ä–æ–∫ –∑–∞ –∫—Ä–æ–∫–æ–º.

---

## üìÇ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–£

```
svetlobot/
‚îú‚îÄ‚îÄ backend/                  # FastAPI Backend
‚îÇ   ‚îú‚îÄ‚îÄ api/                  # REST endpoints
‚îÇ   ‚îú‚îÄ‚îÄ models/               # SQLAlchemy –º–æ–¥–µ–ª—ñ
‚îÇ   ‚îú‚îÄ‚îÄ services/             # –ë—ñ–∑–Ω–µ—Å-–ª–æ–≥—ñ–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ tasks/                # Celery tasks
‚îÇ   ‚îú‚îÄ‚îÄ main.py
‚îÇ   ‚îú‚îÄ‚îÄ database.py
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îÇ
‚îú‚îÄ‚îÄ bot/                      # Telegram Bot
‚îÇ   ‚îú‚îÄ‚îÄ handlers/             # –û–±—Ä–æ–±–Ω–∏–∫–∏ –∫–æ–º–∞–Ω–¥
‚îÇ   ‚îú‚îÄ‚îÄ keyboards/            # –ö–ª–∞–≤—ñ–∞—Ç—É—Ä–∏
‚îÇ   ‚îú‚îÄ‚îÄ states.py             # FSM
‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îÇ
‚îú‚îÄ‚îÄ admin_bot/                # –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—Å—å–∫–∏–π –±–æ—Ç
‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îÇ
‚îú‚îÄ‚îÄ iot/                      # IoT —Å–µ–Ω—Å–æ—Ä–∏
‚îÇ   ‚îî‚îÄ‚îÄ esp32_firmware.ino
‚îÇ
‚îú‚îÄ‚îÄ data/                     # –î–∞–Ω—ñ
‚îÇ   ‚îú‚îÄ‚îÄ excel/                # addresses.xlsx, texts.xlsx
‚îÇ   ‚îî‚îÄ‚îÄ backups/              # Backup –ë–î
‚îÇ
‚îú‚îÄ‚îÄ .env                      # –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
‚îú‚îÄ‚îÄ docker-compose.yml        # Docker –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îî‚îÄ‚îÄ README.md
```

---

## üéØ –ï–¢–ê–ü–ò –†–û–ó–†–û–ë–ö–ò (2 –¥–Ω—ñ)

### –î–µ–Ω—å 1: Backend + Infrastructure

| –ö—Ä–æ–∫ | –ù–∞–∑–≤–∞ | –ß–∞—Å | –§–∞–π–ª |
|------|-------|-----|------|
| 1 | Infrastructure Setup | 4 –≥–æ–¥ | step_01_infrastructure.md |
| 2 | Backend Core | 6 –≥–æ–¥ | step_02_backend_core.md |
| 3 | Database Models | 4 –≥–æ–¥ | step_03_database_models.md |
| 4 | API Endpoints | 6 –≥–æ–¥ | step_04_api_endpoints.md |
| - | Testing & Fixes | 4 –≥–æ–¥ | - |

### –î–µ–Ω—å 2: Bot + Features

| –ö—Ä–æ–∫ | –ù–∞–∑–≤–∞ | –ß–∞—Å | –§–∞–π–ª |
|------|-------|-----|------|
| 5 | Telegram Bot Core | 8 –≥–æ–¥ | step_05_telegram_bot.md |
| 6 | Notification System | 4 –≥–æ–¥ | step_06_notifications.md |
| 7 | Payments & Referrals | 4 –≥–æ–¥ | step_07_payments_referrals.md |
| 8 | Admin Bot | 3 –≥–æ–¥ | step_08_admin_bot.md |
| 9 | Excel Integration | 2 –≥–æ–¥ | step_09_excel.md |
| 10 | IoT Backend | 2 –≥–æ–¥ | step_10_iot_backend.md |
| 11 | CrowdReports | 2 –≥–æ–¥ | step_11_crowdreports.md |
| 12 | Subscription Check | 2 –≥–æ–¥ | step_12_subscriptions.md |
| 13 | Nginx + SSL | 1 –≥–æ–¥ | step_13_nginx_ssl.md |
| 14 | Integration Testing | 2 –≥–æ–¥ | step_14_testing.md |
| 15 | Final & Production | 3 –≥–æ–¥ | step_15_final.md |

---

## üõ† –¢–ï–•–ù–Ü–ß–ù–ò–ô –°–¢–ï–ö

### Backend
- **Framework:** FastAPI 0.104+
- **Database:** PostgreSQL 14+
- **Cache:** Redis 7+
- **Task Queue:** Celery + Beat
- **ORM:** SQLAlchemy 2.0+ (async)
- **Migrations:** Alembic

### Bot
- **Framework:** Aiogram 3.x
- **FSM Storage:** Redis
- **HTTP Client:** aiohttp

### IoT
- **Hardware:** ESP32 + SIM7600 (4G LTE)
- **Firmware:** Arduino IDE

### Infrastructure
- **Containerization:** Docker 24+, Docker Compose 2+
- **Web Server:** Nginx
- **SSL:** Certbot (Let's Encrypt)
- **OS:** Ubuntu 22.04 LTS

### Payments
- **Provider:** LiqPay

---

## üìä –ö–õ–Æ–ß–û–í–Ü –ú–ï–¢–†–ò–ö–ò

- **–ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ:** –¥–æ 1,000,000
- **–ß–µ—Ä–≥–∏:** 12 (—É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–æ –¥–ª—è —ñ–Ω—à–∏—Ö –º—ñ—Å—Ç)
- **–°–µ–Ω—Å–æ—Ä–∏:** 24 (2 –Ω–∞ —á–µ—Ä–≥—É)
- **–ß–∞—Å –¥–æ—Å—Ç–∞–≤–∫–∏ —Å–ø–æ–≤—ñ—â–µ–Ω—å:** ‚â§30 —Å–µ–∫
- **–¢–æ—á–Ω—ñ—Å—Ç—å:** ‚â•95%
- **Uptime:** ‚â•98%

---

## üîê –ë–ï–ó–ü–ï–ö–ê

- –í—Å—ñ –ø–∞—Ä–æ–ª—ñ –≤ .env (chmod 600)
- –¢–æ–∫–µ–Ω–∏ –¥–ª—è API endpoints
- Rate limiting (Redis)
- SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∏ (Let's Encrypt)
- Firewall (UFW)
- Fail2ban –¥–ª—è SSH

---

## üíæ BACKUP

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–π backup —â–æ–¥–Ω—è –æ 3:00
```bash
0 3 * * * cd ~/projects/svetlobot && \
  docker compose exec -T postgres pg_dump -U svetlobot_user svetlobot > \
  backups/backup_$(date +\%Y\%m\%d).sql
```

### –†—É—á–Ω–∏–π backup
```bash
docker compose exec postgres pg_dump -U svetlobot_user svetlobot > backup.sql
```

---

## üìû –ü–Ü–î–¢–†–ò–ú–ö–ê

### –õ–æ–≥–∏
```bash
# –í—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏
docker compose logs -f

# –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∏–π —Å–µ—Ä–≤—ñ—Å
docker compose logs -f bot

# –û—Å—Ç–∞–Ω–Ω—ñ 100 —Ä—è–¥–∫—ñ–≤
docker compose logs --tail=100 backend
```

### –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥
```bash
# –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
docker compose ps

# –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤
docker stats

# –°–∏—Å—Ç–µ–º–Ω—ñ —Ä–µ—Å—É—Ä—Å–∏
htop
```

---

## ‚úÖ –ö–û–ù–¢–†–û–õ–¨–ù–ò–ô –°–ü–ò–°–û–ö –ü–ï–†–ï–î –ó–ê–ü–£–°–ö–û–ú

- [ ] VPS –ø—ñ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ (Ubuntu 22.04)
- [ ] Docker –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- [ ] .env –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ (–≤—Å—ñ –ø–∞—Ä–æ–ª—ñ –∑–º—ñ–Ω–µ–Ω–æ!)
- [ ] Telegram Bot Token –æ—Ç—Ä–∏–º–∞–Ω–æ
- [ ] –ö–∞–Ω–∞–ª —Å—Ç–≤–æ—Ä–µ–Ω–æ
- [ ] –ü—Ä–æ–µ–∫—Ç —Å–∫–ª–æ–Ω–æ–≤–∞–Ω–æ/–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ
- [ ] docker-compose.yml –≥–æ—Ç–æ–≤–∏–π
- [ ] PostgreSQL —Ç–∞ Redis –ø—Ä–∞—Ü—é—é—Ç—å
- [ ] Backend –∑–∞–ø—É—â–µ–Ω–æ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î
- [ ] Bot –ø—ñ–¥–∫–ª—é—á–µ–Ω–æ —Ç–∞ –ø—Ä–∞—Ü—é—î
- [ ] –ú—ñ–≥—Ä–∞—Ü—ñ—ó –≤–∏–∫–æ–Ω–∞–Ω–æ
- [ ] –ß–µ—Ä–≥–∏ 1-12 —Å—Ç–≤–æ—Ä–µ–Ω–æ
- [ ] Excel-—Ñ–∞–π–ª–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ
- [ ] Nginx –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ
- [ ] SSL —Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ
- [ ] Backup –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ
- [ ] –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—Ä–æ–π–¥–µ–Ω–æ ‚úÖ

---

## üéâ –ì–û–¢–û–í–û –î–û –ó–ê–ü–£–°–ö–£!

–ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤—Å—ñ—Ö –∫—Ä–æ–∫—ñ–≤ —É –≤–∞—Å –±—É–¥–µ –ø–æ–≤–Ω—ñ—Å—Ç—é —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π Telegram-–±–æ—Ç –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –µ–ª–µ–∫—Ç—Ä–æ–ø–æ—Å—Ç–∞—á–∞–Ω–Ω—è –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é:

‚úÖ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤  
‚úÖ –í–≤–µ–¥–µ–Ω–Ω—è –∞–¥—Ä–µ—Å–∏ —Ç–∞ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —á–µ—Ä–≥–∏  
‚úÖ –°–ø–æ–≤—ñ—â–µ–Ω—å ON/OFF (—Ñ–∞–∫—Ç + –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è)  
‚úÖ –¢–∞—Ä–∏—Ñ—ñ–≤ (NOFREE/FREE/STANDARD/PRO)  
‚úÖ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ—ó –ø—Ä–æ–≥—Ä–∞–º–∏  
‚úÖ –ü–ª–∞—Ç–µ–∂—ñ–≤ (LiqPay)  
‚úÖ –ö—Ä–∞—É–¥—Ä–µ–ø–æ—Ä—Ç—ñ–≤  
‚úÖ IoT-—Å–µ–Ω—Å–æ—Ä—ñ–≤ (24 —à—Ç)  
‚úÖ –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ  
‚úÖ –ú–∞—Å—à—Ç–∞–±—É–≤–∞–Ω–Ω—è –¥–æ 1M –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤  

---

## üìñ –î–û–î–ê–¢–ö–û–í–Ü –†–ï–°–£–†–°–ò

- [FastAPI Documentation](https://fastapi.tiangolo.com/)
- [Aiogram 3 Documentation](https://docs.aiogram.dev/en/latest/)
- [SQLAlchemy Async](https://docs.sqlalchemy.org/en/20/orm/extensions/asyncio.html)
- [Docker Documentation](https://docs.docker.com/)
- [LiqPay API](https://www.liqpay.ua/documentation/api)

---

**–£—Å–ø—ñ—à–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É! üöÄ**

*–Ø–∫—â–æ –≤–∏–Ω–∏–∫–Ω—É—Ç—å –ø–∏—Ç–∞–Ω–Ω—è –ø—ñ–¥ —á–∞—Å —Ä–æ–∑—Ä–æ–±–∫–∏ - Claude –∑–∞–≤–∂–¥–∏ –¥–æ–ø–æ–º–æ–∂–µ!*